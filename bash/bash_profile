# bash_profile

declare -a files=(
  $HOME/.dotfiles/bash/bash_exports # Exports
  $HOME/.dotfiles/bash/bash_aliases # Aliases
  $HOME/.dotfiles/bash/gh.bash # Use gh to move around github/personal repos
  $HOME/.dotfiles/bash/gl.bash # Use gl to move around gitlab/work repos
  $HOME/.dotfiles/bash/completions/gh.bash
  $HOME/.dotfiles/bash/completions/gl.bash
  $HOME/dev/work/gitlab-org/gdk/support/completions/gdk.bash
  /opt/homebrew/opt/asdf/libexec/asdf.sh
)

# If these files are readable, source them
for index in ${!files[*]}
do
  if [[ -r ${files[$index]} ]]; then
    source ${files[$index]}
  fi
done

unset files

# Use bash completion (install via homebrew)
[[ -r "/opt/homebrew/etc/profile.d/bash_completion.sh" ]] && . "/opt/homebrew/etc/profile.d/bash_completion.sh"

# Git completion
if [ -f ~/.git-completion.bash ]; then
  . ~/.git-completion.bash
fi

# tmux
[ -n "$TMUX" ] && export TERM=screen-256color

# Silence the deperacation warning for bash
export BASH_SILENCE_DEPRECATION_WARNING=1

# Load brew
export PATH="/opt/homebrew/bin:$PATH"

# Load rancher-desktop
export PATH="$HOME/.rd/bin:$PATH"

# Always start ssh-agent
[ -z "$SSH_AUTH_SOCK" ] && eval "$(ssh-agent -s)"

# Load starship prompt
eval "$(starship init bash)"
